@startuml C4_Container
!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml
title Skill Monolito c2

Person(usuario, "Usuario", "Gestiona su biblioteca por voz")

System_Boundary(alexa, "Amazon Alexa") {
  Container(vui, "Voice User Interface", "Alexa Voice Service", "Procesa la voz del usuario y entrega audio de salida")
  Container(ask, "Alexa Skills Kit (ASK)", "Runtime", "Convierte voz en intents/slots (JSON) y gestiona la sesión")
}

System_Boundary(aws, "AWS Cloud") {
  Container(lambda, "Lambda Function", "Python", "Contiene los handlers de intents y lógica del skill")
  ContainerDb(s3, "Amazon S3", "Objetos JSON", "Almacena y recupera libros y préstamos por usuario")
}

Rel(usuario, vui, "Habla comandos", "Voz")
Rel(vui, ask, "Procesa audio", "Audio/JSON")
Rel(ask, lambda, "Requests JSON", "HTTPS")
Rel(lambda, ask, "Responses JSON", "HTTPS")
Rel(ask, vui, "Respuestas de voz", "Audio")
Rel(lambda, s3, "Guardar/Leer datos", "CRUD objetos JSON")
@enduml
